{% from 'macros/panels.html' import render_panel %}

{% macro render_flashed_messages() %}
    {% with messages = get_flashed_messages(with_categories=True) %}
        {% for category, message in messages %}
            {% if category == 'error' %}
                {% call render_panel('Error', 'panel-danger') %}
                    {{ message }}
                {% endcall %}
            {% elif category == 'success' %}
                {% call render_panel('Success', 'panel-success') %}
                    {{ message }}
                {% endcall %}
            {% else %}
                {% call render_panel('Info', 'panel-info') %}
                    {{ message }}
                {% endcall %}
            {% endif %}
        {% endfor %}
    {% endwith %}
{% endmacro %}